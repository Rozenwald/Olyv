kind: pipeline
type: docker
name: default


steps:
- name: eslint
  image: node:12
  commands:
  - npm i
  - npm run lint


- name: dev
  image: node:12
  commands:
  - npm i
  - npm run dev
  when:
    branch:
    - dev


- name: build
  image: node:12
  commands:
  - npm i
  - npm run build
  when:
    branch:
    - main


- name: telegram-notification
  image: appleboy/drone-telegram
  settings:
    token: 1421331969:AAFFxYtCvBYaJ6vsNf4KLrY1Jazl6RID4J0
    to: -416411935
